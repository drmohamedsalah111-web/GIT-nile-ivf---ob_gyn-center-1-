# โจ ุชูุนูู ูุธุงู ุงูุชุญุงููู

## 1๏ธโฃ ุชุดุบูู SQL Schema

**ุฎุทูุงุช ุณุฑูุนุฉ (2 ุฏูููุฉ):**

1. ุงุฐูุจ ุฅูู: https://app.supabase.com
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ุงุฐูุจ ุฅูู: `SQL Editor` (ูู ุงููุงุฆูุฉ ุงููุณุฑู)
4. ุงุถุบุท: `+ New Query`
5. **ุงูุณุฎ ุงูููุฏ ูุงููุงู ูู `LAB_SETUP_QUICK.sql`**
6. ุงูุตู ุงูููุฏ ูู ูุญุฑุฑ SQL
7. ุงุถุบุท: `Run` (ุงูุฒุฑ ุงูุฃุฒุฑู)

**ูุชูุฌุฉ ูุชููุนุฉ:**
```
โ Tables Created: 4
โ test_count: 26
โ By category: Hormones(7), Hematology(4), Chemistry(8), Immunology(6)
```

---

## 2๏ธโฃ ุงูุชุญูู ูู ุงูุชุซุจูุช

ุจุนุฏ ุชุดุบูู ุงูู SQLุ ุชุฃูุฏ ูู:

### ูู Supabase Dashboard:

**ุงุฐูุจ ุฅูู: `Database` โ `Tables`**

ูุฌุจ ุฃู ุชุฑู 4 ุฌุฏุงูู ุฌุฏูุฏุฉ:
- โ `lab_tests_catalog` (26 ุตู)
- โ `lab_requests` (ูุงุฑุบ ุญุงููุงู)
- โ `lab_request_items` (ูุงุฑุบ ุญุงููุงู)
- โ `lab_results` (ูุงุฑุบ ุญุงููุงู)

---

## 3๏ธโฃ ูุชุญ ุงูุชุทุจูู

**ุงูุขู ุงูุชุญุงููู ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ูู:**

### ๐ ุงูููุงู 1: ูุณู ุฃูุฑุงุถ ุงููุณุงุก
```
Gynecology โ Lab Tests Tab
```
- ุงุจุญุซ ุนู ุฃู ุชุญููู
- ุงุณุชุฎุฏู ุงูุญุฒู ุงูุณุฑูุนุฉ
- ุฃุถู ููุงุญุธุงุช
- ุงุถุบุท "Submit"

### ๐ ุงูููุงู 2: ูุณู ุงูุฃูููุฉ ูุงูุชูููุฏ
```
Obstetrics Dashboard (ุชุญุช ุจูุงูุงุช ุงูุญูู)
```
- ุงุฎุชุฑ ุงูุฃูุณุจ ููุญูู
- ุงุถุบุท "Antenatal Profile" ุงูุญุฒูุฉ ุงูุณุฑูุนุฉ
- ุงุถุบุท "Submit"

---

## 4๏ธโฃ ุงุฎุชุจุฑ ุงููุธุงู

### โ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

1. **ุงูุชุญ ูุณู ุงููุณุงุก (Gynecology)**
2. **ุงุฎุชุฑ ูุฑูุถุฉ ูู ุงููุงุฆูุฉ**
3. **ุงุถุบุท ุนูู ุชุงุจ "Lab Tests"**
4. **ุงุถุบุท ุนูู "IVF Workup"** (ุงูุญุฒูุฉ ุงูุณุฑูุนุฉ)
   - ูุฌุจ ุฃู ุชุถูู 6 ุชุญุงููู ุชููุงุฆูุงู
5. **ุงุถุบุท "Submit Lab Order"**
   - ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ ุฎุถุฑุงุก
6. **ุงุถุบุท ุนูู ุชุงุจ "ุงููุชุงุฆุฌ"**
   - ูุฌุจ ุฃู ุชุฑู ุงูุทูุจ ุงูุฌุฏูุฏ ุจุญุงูุฉ "Pending"

### ๐ฏ ูุชูุฌุฉ ูุชููุนุฉ:
```
โ ุชู ุฅุถุงูุฉ ุทูุจ ุงูุชุญููู ุจูุฌุงุญ
โ ุงูุทูุจ ูุธูุฑ ูู ุชุงุจ ุงููุชุงุฆุฌ
โ ุงูุญุงูุฉ: Pending
โ ุนุฏุฏ ุงูุชุญุงููู: 6
```

---

## 5๏ธโฃ ุงููููุงุช ุงููุถุงูุฉ

```
๐ Project Root
โโ services/
โ  โโ labService.ts                    โ ุฎุฏูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ
โโ pages/components/
โ  โโ LabOrderManager.tsx              โ ูุงุฌูุฉ ุงูุชุญุงููู ุงูุฌุฏูุฏุฉ
โโ pages/
โ  โโ Gynecology.tsx (ูุนุฏูู)          โ ุฃุถูู ุชุงุจ ุงูุชุญุงููู
โ  โโ ObstetricsDashboard.tsx (ูุนุฏูู) โ ุฃุถูู ุงูุชุญุงููู ุจุฌุงูุจ ุงูุฃุฏููุฉ
โโ LAB_SETUP_QUICK.sql                โ ุงูู SQL ุงูุฐู ุชุดุบูู
โโ LAB_SYSTEM_GUIDE.md                 โ ุงูุฏููู ุงููุงูู
โโ ENABLE_LAB_SYSTEM.md                โ ูุฐุง ุงูููู
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชูุตูููุฉ ูุน ุตูุฑ

### ุงูุฎุทูุฉ 1: ุฏุฎูู SQL Editor

```
1. ุงุฐูุจ ุฅูู Supabase Dashboard
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ูู ุงููุงุฆูุฉ ุงููุณุฑู: SQL Editor
4. ุงุถุบุท: + New Query
```

### ุงูุฎุทูุฉ 2: ูุณุฎ ุงูููุฏ

```
ุงุฐูุจ ุฅูู: LAB_SETUP_QUICK.sql
ุงูุณุฎ ุงูููุฏ ูุงููุงู (Ctrl+A ุซู Ctrl+C)
```

### ุงูุฎุทูุฉ 3: ุชุดุบูู ุงูู SQL

```
1. ุงูุตู ุงูููุฏ ูู SQL Editor
2. ุงุถุบุท: Run (ุงูุฒุฑ ุงูุฃุฒุฑู)
3. ุงูุชุธุฑ ุงููุชูุฌุฉ (ุจุฏูู ุฃุฎุทุงุก ุญูุฑุงุก)
```

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุฑ ูู ุงูุชุทุจูู

```
1. ุงูุชุญ ุงูุชุทุจูู
2. ุงุฐูุจ ุฅูู: Gynecology โ Lab Tests
3. ุงุถุบุท: IVF Workup
4. ุงุถุบุท: Submit
5. ุดูู ุงููุชุงุฆุฌ ูู ุชุงุจ "ุงููุชุงุฆุฌ"
```

---

## โ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุฎุทุฃ: "Error: relation "lab_tests_catalog" does not exist"
**ุงูุณุจุจ:** ูู ุชุดุบู ุงูู SQL ุจุนุฏ
**ุงูุญู:** ุชุฃูุฏ ูู ุชุดุบูู `LAB_SETUP_QUICK.sql` ุฃููุงู

### ุงูุฎุทุฃ: "No test catalog found"
**ุงูุณุจุจ:** ุงูุจูุงูุงุช ูู ุชูุฏุฑุฌ
**ุงูุญู:** ุชุฃูุฏ ูู ุชุดุบูู ูู ุงูุณูุฑูุจุช (ุญุชู ุงูู INSERT statements)

### ุงูุฎุทุฃ: "Insufficient permission"
**ุงูุณุจุจ:** ูุดููุฉ RLS Policies
**ุงูุญู:** ุชุฃูุฏ ูู ุชุดุบูู ูู ุงูู CREATE POLICY statements

### ูุง ุดูุก ูุธูุฑ
**ุงูุณุจุจ:** ุฑุจูุง ูู ุชุญุฏูุซ ุงูุตูุญุฉ
**ุงูุญู:** ุงุถุบุท F5 ูุชุญุฏูุซ ุงูุตูุญุฉ ุฃู Ctrl+Shift+R ููุชุญุฏูุซ ุงููุงูู

---

## โ ุงูุชุญูู ูู ุงููุฌุงุญ

**ุงุฐูุจ ุฅูู Supabase:**

```sql
-- ุดุบูู ูุฐุง ุงูุงุณุชุนูุงู ููุชุญูู

-- 1. ูู ุงูุฌุฏุงูู ููุฌูุฏุฉุ
SELECT table_name FROM information_schema.tables 
WHERE table_name LIKE 'lab_%' AND table_schema = 'public';

-- 2. ูู ุชุญููู ูู ุงููุงุฆูุฉุ
SELECT COUNT(*) FROM lab_tests_catalog;

-- 3. ุนุฑุถ ุงูุชุญุงููู ุญุณุจ ุงููุฆุฉ
SELECT category, COUNT(*) FROM lab_tests_catalog GROUP BY category;

-- 4. ูู ุงูู RLS ููุนููุ
SELECT tablename, rowsecurity FROM pg_tables 
WHERE tablename LIKE 'lab_%' AND schemaname = 'public';
```

---

## ๐ ุงูุฃูุงูุฑ ุงูุณุฑูุนุฉ

### ุชุดุบูู ุงูู SQL:
```bash
# ูู SQL Editor ูู Supabase
# ูุณุฎ ูุญุชูู LAB_SETUP_QUICK.sql
# ุงูุตู ูุดุบูู
```

### ุงูุชุญูู ูู ุงูุชุทุจูู:
```
1. Gynecology โ Lab Tests
2. IVF Workup
3. Submit
4. Check Results tab
```

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูู ุชูุฌุญ ุงูุฎุทูุงุช:

1. **ุงูุชุญ Browser Console (F12)**
2. **ุงูุณุฎ ุงูุฃุฎุทุงุก ุงูุญูุฑุงุก**
3. **ุชุญูู ูู:**
   - โ ุงูุงุชุตุงู ุจู Supabase
   - โ ุงูู SQL ุดุบูู ุจุฏูู ุฃุฎุทุงุก
   - โ ุงูุตูุญุฉ ุญุฏุซุชูุง (F5)
   - โ ุฃูุช ูุณุฌู ุฏุฎูู

---

## ๐ ุจุนุฏ ุงูุชูุนูู ูุจุงุดุฑุฉ

ููููู:
- โ ุทูุจ ุชุญููู ูู ูุณู ุงููุณุงุก
- โ ุทูุจ ุชุญููู ูู ูุณู ุงูุฃูููุฉ
- โ ุฑุคูุฉ ุณุฌู ุงูุทูุจุงุช
- โ ุงุณุชุฎุฏุงู ุงูุญุฒู ุงูุณุฑูุนุฉ

**ุงููุชูุฌุฉ:** ุงูุชุญุงููู ุชุธูุฑ ุงูุขู ูู ุงูุชุทุจูู! ๐

---

**ููุช ุงูุชูุนูู:** 5 ุฏูุงุฆู ููุท โก
**ูุณุชูู ุงูุตุนูุจุฉ:** ุณูู ุฌุฏุงู ๐
**ุงููุชูุฌุฉ:** ูุธุงู ุชุญุงููู ูุงูู ๐ช
