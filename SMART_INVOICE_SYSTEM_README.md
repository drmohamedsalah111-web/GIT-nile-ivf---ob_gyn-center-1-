# ๐งพ ูุธุงู ุงูููุงุชูุฑ ุงูุฐูู ููุณูุฑุชูุฑุฉ

## ๐ฏ ุงููููุฒุงุช

### โก ุณุฑุนุฉ ูู ุงูุนูู
- **ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ:**
  - `F2` โ ุญูุธ ุงููุงุชูุฑุฉ
  - `ESC` โ ุฅูุบุงุก
  - `Ctrl+S` โ ุญูุธ ุณุฑูุน
- **ุญูุธ ุชููุงุฆู ูู 10 ุซูุงูู** ูุญูุงูุฉ ุงูุจูุงูุงุช
- **ุชุนุจุฆุฉ ุชููุงุฆูุฉ** ูู ุขุฎุฑ ุจูุงูุงุช ุงููุฑูุถ
- **ุจุญุซ ุฐูู** ุจุงูุงุณู ุฃู ุฑูู ุงููุงุชู

### ๐ง ุฐูุงุก ูู ุงูุชุนุงูู
- **ุญุณุงุจ ุชููุงุฆู:**
  - ุญุณุงุจ ุงููุฌููุน ุงููุฑุนู
  - ุชุทุจูู ุงูุฎุตู (ูุณุจุฉ ุฃู ูููุฉ ุซุงุจุชุฉ)
  - ุญุณุงุจ ุงูุถุฑูุจุฉ
  - ุงูุฅุฌูุงูู ุงูููุงุฆู
- **ูุณุฎ ุงูุนูุงุตุฑ** ุจุถุบุทุฉ ูุงุญุฏุฉ
- **ุชุญููู ุงููุณูุฏุฉ** ููุงุณุชููุงู ูุงุญูุงู

### โ ููุน ุงูุฃุฎุทุงุก
- **ุชุญูู ุฐูู** ูุจู ุงูุญูุธ:
  - ูุฌุจ ุงุฎุชูุงุฑ ูุฑูุถ
  - ูุฌุจ ุฅุถุงูุฉ ุนูุตุฑ ูุงุญุฏ ุนูู ุงูุฃูู
  - ูุฌุจ ููุก ุฌููุน ุงูุจูุงูุงุช
  - ุงูุฅุฌูุงูู ุฃูุจุฑ ูู ุตูุฑ
  - ุงูุฎุตู ูุง ูุชุฌุงูุฒ ุงููุจูุบ
- **ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ** ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- **ููุน ุงูุฅุฏุฎุงู ุงูุฎุงุทุฆ** (ูุซูุงู: ูููุฉ ุณุงูุจุฉ)

### ๐ ุชูุงุฑูุฑ ููุฑูุฉ
- **ุฅุญุตุงุฆูุงุช ุงูููู:**
  - ุฅุฌูุงูู ุงููุจูุนุงุช
  - ุนุฏุฏ ุงูููุงุชูุฑ
  - ููุฏูุ ููุฒุงุ ุชุญููู ุจููู
- **ููุชุฑุฉ ูุชูุฏูุฉ:**
  - ุญุณุจ ุงูุชุงุฑูุฎ (ุงููููุ ุฃุณุจูุนุ ุดูุฑ)
  - ุญุณุจ ุทุฑููุฉ ุงูุฏูุน
  - ุจุญุซ ุจุงูุงุณู/ุฑูู ุงููุงุชูุฑุฉ

### ๐จ๏ธ ุทุจุงุนุฉ ุงุญุชุฑุงููุฉ
- ุชุตููู ูุงุชูุฑุฉ ุฃููู ููููู
- ูุญุชูู ุนูู ุฌููุน ุงูุชูุงุตูู
- ุฌุงูุฒ ููุทุจุงุนุฉ ูุจุงุดุฑุฉ

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ

### 1. **SmartInvoiceForm.tsx** โจ
ูุงุฌูุฉ ุฅูุดุงุก ุงููุงุชูุฑุฉ ุงูุฐููุฉ

**ุงููููุฒุงุช:**
- ุจุญุซ ุณุฑูุน ุนู ุงููุฑุถู
- ุฅุถุงูุฉ ุนูุงุตุฑ ูุชุนุฏุฏุฉ
- ุญุณุงุจ ุชููุงุฆู
- ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน
- ุญูุธ ุชููุงุฆู

**ุงููููุน:**
```
components/invoices/SmartInvoiceForm.tsx
```

### 2. **InvoicesManagementPage.tsx** ๐
ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ

**ุงููููุฒุงุช:**
- ุนุฑุถ ุฌููุน ุงูููุงุชูุฑ
- ุฅุญุตุงุฆูุงุช ููุฑูุฉ
- ููุชุฑุฉ ูุจุญุซ
- ุทุจุงุนุฉ ูุญุฐู
- ุนุฑุถ ุงูุชูุงุตูู

**ุงููููุน:**
```
components/invoices/InvoicesManagementPage.tsx
```

### 3. **CREATE_INVOICE_ITEMS_TABLE.sql** ๐๏ธ
ุฅูุดุงุก ุฌุฏูู ุนูุงุตุฑ ุงูููุงุชูุฑ

**ุงููููุน:**
```
CREATE_INVOICE_ITEMS_TABLE.sql
```

---

## ๐ ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุฎุทูุฉ 1: ุชุดุบูู SQL Script
```sql
-- ูู Supabase SQL Editor
-- ููุฐ ุงูููู: CREATE_INVOICE_ITEMS_TABLE.sql
```

### ุงูุฎุทูุฉ 2: ุฏูุฌ ูู ููุญุฉ ุงูุณูุฑุชูุฑุฉ

#### ุฅุถุงูุฉ ูู SecretaryDashboard.tsx:

```tsx
import { InvoicesManagementPage } from '../components/invoices';

// ูู ุงูู state
const [activeView, setActiveView] = useState<'dashboard' | 'invoices' | 'patients'>('dashboard');

// ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
<button
  onClick={() => setActiveView('invoices')}
  className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${
    activeView === 'invoices'
      ? 'bg-purple-100 text-purple-700'
      : 'text-gray-600 hover:bg-purple-50'
  }`}
>
  <Receipt className="w-5 h-5" />
  <span>ุงูููุงุชูุฑ</span>
</button>

// ูู ุงููุญุชูู
{activeView === 'invoices' && (
  <InvoicesManagementPage
    secretaryId={secretary.id}
    doctorId={secretary.secretary_doctor_id}
    secretaryName={secretary.name}
  />
)}
```

---

## โจ๏ธ ุงูุงุฎุชุตุงุฑุงุช

| ุงูุงุฎุชุตุงุฑ | ุงููุธููุฉ |
|----------|---------|
| `F2` | ุญูุธ ุงููุงุชูุฑุฉ |
| `ESC` | ุฅูุบุงุก |
| `Ctrl+S` | ุญูุธ ุณุฑูุน |

---

## ๐จ ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### 1. ุฅูุดุงุก ูุงุชูุฑุฉ ุฌุฏูุฏุฉ

```
1. ุงุถุบุท "ูุงุชูุฑุฉ ุฌุฏูุฏุฉ"
2. ุงุจุญุซ ุนู ุงููุฑูุถ (ุงูุชุจ ุงุณูู ุฃู ุฑูู ูุงุชูู)
3. ุงุฎุชุฑ ุงููุฑูุถ ูู ุงููุงุฆูุฉ
4. ุฃุถู ุงูุนูุงุตุฑ:
   - ุงููุตู: ูุดู
   - ุงููููุฉ: 1
   - ุงูุณุนุฑ: 200
5. ุฃุถู ุฎุตู ุฅุฐุง ูุฒู ุงูุฃูุฑ (10% ูุซูุงู)
6. ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน (ููุฏุงู)
7. ุงุถุบุท F2 ููุญูุธ
```

### 2. ุนุฑุถ ุงูููุงุชูุฑ

```
1. ุงูุชุญ ุตูุญุฉ ุงูููุงุชูุฑ
2. ุดุงูุฏ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุฃุนูู
3. ุงุจุญุซ ุฃู ููุชุฑ ุญุณุจ ุงูุญุงุฌุฉ
4. ุงุถุบุท ุนูู ุฒุฑ ุงูุนูู ูุนุฑุถ ุงูุชูุงุตูู
5. ุงุถุบุท ุนูู ุงูุทุงุจุนุฉ ููุทุจุงุนุฉ
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู invoice_items

```sql
CREATE TABLE invoice_items (
    id UUID PRIMARY KEY,
    invoice_id UUID REFERENCES invoices(id),
    description TEXT NOT NULL,
    quantity DECIMAL(10,2),
    unit_price DECIMAL(10,2),
    total DECIMAL(10,2),
    created_at TIMESTAMPTZ
);
```

### ุงูุฃุนูุฏุฉ ุงููุถุงูุฉ ูุฌุฏูู invoices

```sql
ALTER TABLE invoices ADD COLUMN invoice_number TEXT UNIQUE;
ALTER TABLE invoices ADD COLUMN invoice_type TEXT;
ALTER TABLE invoices ADD COLUMN created_by UUID;
```

---

## ๐ก๏ธ ุงูุฃูุงู (RLS)

- โ ุงูุณูุฑุชูุฑุฉ ุชุฑู ููุท ููุงุชูุฑูุง
- โ ูุง ูููู ุชุนุฏูู ููุงุชูุฑ ุณูุฑุชูุฑุฉ ุฃุฎุฑู
- โ ุฌููุน ุงูุจูุงูุงุช ูุญููุฉ ุจู RLS

---

## โจ ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### ููุณุฑุนุฉ ุงููุตูู:
1. ุงุณุชุฎุฏู **ุงูุจุญุซ ุงูุณุฑูุน** ุจุฏูุงู ูู ุงูุชูุฑูุฑ
2. ุงุถุบุท `Tab` ููุชููู ุจูู ุงูุญููู
3. ุงุณุชุฎุฏู `F2` ููุญูุธ ุจุฏูู ุงููุงูุณ
4. ุงูุณุฎ ุงูุนูุงุตุฑ ุงููุชูุฑุฑุฉ ุจุฏูุงู ูู ุฅุนุงุฏุฉ ุงููุชุงุจุฉ

### ูุชุฌูุจ ุงูุฃุฎุทุงุก:
1. ุฏุงุฆูุงู ุงุฎุชุฑ ุงููุฑูุถ ูุจู ุงูุฅุถุงูุฉ
2. ุฑุงุฌุน ุงูุฅุฌูุงูู ูุจู ุงูุญูุธ
3. ุชุฃูุฏ ูู ุทุฑููุฉ ุงูุฏูุน ุงูุตุญูุญุฉ
4. ุงุญูุธ ุงููุณูุฏุฉ ุฅุฐุง ููุช ุณุชุชุฑู ุงูุตูุญุฉ

### ููุชูุงุฑูุฑ ุงูุฏูููุฉ:
1. ุงุณุชุฎุฏู ููุชุฑ ุงูุชุงุฑูุฎ ููุชูุงุฑูุฑ ุงูููููุฉ
2. ุฑุงุฌุน ุงูุฅุญุตุงุฆูุงุช ูู ุฃูู ุงูุตูุญุฉ
3. ุงุทุจุน ุงูููุงุชูุฑ ููุฃุฑุดูู
4. ุงุณุชุฎุฏู ุฑูู ุงููุฑุฌุน ูุทุฑู ุงูุฏูุน ุงูุฅููุชุฑููู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูุฌุจ ุงุฎุชูุงุฑ ูุฑูุถ"
**ุงูุญู:** ุงุจุญุซ ุนู ุงููุฑูุถ ูุงุฎุชุฑู ูู ุงููุงุฆูุฉ

### ุงููุดููุฉ: "ุงูุฎุตู ูุง ูููู ุฃู ูุชุฌุงูุฒ ุงููุจูุบ"
**ุงูุญู:** ููู ุงูุฎุตู ุฃู ุบููุฑ ุงูููุน ูู "ุฌ.ู" ุฅูู "%"

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูููุงุชูุฑ
**ุงูุญู:** 
1. ุชุฃูุฏ ูู ุชุดุบูู SQL Script
2. ุชุญูู ูู ุงูุตูุงุญูุงุช (RLS)
3. ุฑุงุฌุน console ููุฃุฎุทุงุก

---

## ๐ฏ ุงูุฎุทูุงุช ุงููุงุฏูุฉ (ุงุฎุชูุงุฑู)

### ูููุฒุงุช ุฅุถุงููุฉ ูููู ุฅุถุงูุชูุง:
- [ ] ุชุตุฏูุฑ Excel/PDF
- [ ] ุฅุฑุณุงู ุงููุงุชูุฑุฉ ุจุงููุงุชุณุงุจ
- [ ] ููุงูุจ ููุงุชูุฑ ุฌุงูุฒุฉ
- [ ] ุฑุจุท ูุน ูุธุงู ุงููุญุงุณุจุฉ
- [ ] ูุธุงู ุงูุถูุงู ูุงูุฅุฑุฌุงุน
- [ ] ุชูุงุฑูุฑ ุดูุฑูุฉ ุชูุตูููุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุฑุงุฌุน ุฑุณุงุฆู ุงูุฎุทุฃ ูู Console
2. ุชุฃูุฏ ูู ุชุดุบูู SQL Script
3. ุชุญูู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## โ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ูุธุงู ููุงุชูุฑ **ุฐูู ูุณุฑูุน ูุฎุงูู ูู ุงูุฃุฎุทุงุก** ููุณูุฑุชูุฑุฉ ูุชููุฒ ุจู:

โจ ุณูููุฉ ุงูุงุณุชุฎุฏุงู  
โก ุณุฑุนุฉ ูุงุฆูุฉ  
๐ง ุฐูุงุก ูู ุงูุชุนุงูู  
โ ููุน ุงูุฃุฎุทุงุก  
๐ ุชูุงุฑูุฑ ููุฑูุฉ  
๐จ๏ธ ุทุจุงุนุฉ ุงุญุชุฑุงููุฉ  

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูุขู!** ๐
