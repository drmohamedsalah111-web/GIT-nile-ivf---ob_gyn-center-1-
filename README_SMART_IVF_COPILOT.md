# ๐ง Smart IVF Copilot - ูุณุงุนุฏู ุงูุฐูู ูู ูุชุงุจุนุฉ ุงูุชูุดูุท

<div dir="rtl">

## ๐ ูุธุฑุฉ ุนุงูุฉ

**Smart IVF Copilot** ูู ูุธุงู ุฐูู ูุชูุงูู ููุชุงุจุนุฉ ูุฑุญูุฉ ุงูุชูุดูุท ูู ุฑุญูุฉ ุงูุญูู ุงููุฌูุฑู. ุชู ุชุทููุฑู ุจุนูุงูุฉ ููููู ุฃุฏุงุฉ ูููุฉ ุชุณุงุนุฏ ุงูุฃุทุจุงุก ูู:

- โ **ูุชุงุจุนุฉ ุฏูููุฉ** ููู ุชูุงุตูู ุงูุชูุดูุท
- โ **ุชูุตูุงุช ุฐููุฉ** ููุฑูุฉ ุจูุงุกู ุนูู ุงูุจูุงูุงุช
- โ **ุชูุจููุงุช ุชููุงุฆูุฉ** ููุญุงูุงุช ุงูุญุฑุฌุฉ
- โ **ุชุญููู ูุณุชูุฑ** ููุงุณุชุฌุงุจุฉ
- โ **ุชูุจุคุงุช ุฏูููุฉ** ุจุงููุชุงุฆุฌ

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ูุชุงุจุนุฉ ุดุงููุฉ ููุชูุดูุท
- ุชุณุฌูู ูุงูู ููู ุฒูุงุฑุฉ ูุชุงุจุนุฉ
- ุฅุฏุฎุงู ุณูู ููุชุญุงููู ุงููุฑููููุฉ (E2, LH, P4)
- ููุงุณ ุฏููู ูุฃุญุฌุงู ุงูุญููุตูุงุช
- ุชุชุจุน ุณูู ุจุทุงูุฉ ุงูุฑุญู
- ุชูุซูู ุงูุฌุฑุนุงุช ุงูุฏูุงุฆูุฉ

### 2. ุชูุตูุงุช ุฐููุฉ ุชููุงุฆูุฉ
ุงููุธุงู ูุญูู ุงูุจูุงูุงุช ููุฑุงู ูููุฏู:
- **ุชูุตูุงุช ุงูุฌุฑุนุฉ**: ุฒูุงุฏุฉุ ุชููููุ ุฃู ุงูุญูุงุธ ุนูู ุงูุฌุฑุนุฉ
- **ุชูููุช ุงูุฅุจุฑุฉ ุงูุชูุฌูุฑูุฉ**: ุชุญุฏูุฏ ุงูููุช ุงููุซุงูู
- **ุชูููู ูุฎุงุทุฑ OHSS**: ูุณุชูุฑ ูุฏููู
- **ูุนุงููุฑ ุงูุฅูุบุงุก**: ูู ุญุงูุงุช ุงูุงุณุชุฌุงุจุฉ ุงูุถุนููุฉ

### 3. ุชูุจููุงุช ููููุฉ ุญุณุจ ุงูุฃูููุฉ
- ๐ข **ูุนูููุงุชูุฉ**: ูู ุดูุก ุนูู ูุง ูุฑุงู
- ๐ก **ุชุญุฐูุฑูุฉ**: ูุญุชุงุฌ ุงูุชุจุงู
- ๐ด **ุญุฑุฌุฉ**: ูุชุทูุจ ุชุฏุฎู ููุฑู

### 4. ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ
- ููุญูู E2 ููุณุชูู ุงูุญููุตูุงุช
- ููู ุงูุญููุตูุงุช ูุงูุจุทุงูุฉ
- ููุงุฑูุฉ ุงูุฒูุงุฑุงุช ุงููุฎุชููุฉ

### 5. ุชุญููู ุฐูู ููุงุณุชุฌุงุจุฉ
- ุชุตููู ููุน ุงูุงุณุชุฌุงุจุฉ (ุถุนููุฉุ ุทุจูุนูุฉุ ุนุงููุฉ)
- ุญุณุงุจ ูุนุฏู ุงูููู
- ุชูููู ุงูุชุฌุงูุณ ุจูู ุงูุญููุตูุงุช
- ุงูุชูุจุค ุจุนุฏุฏ ุงูุจููุถุงุช

---

## ๐ ูููู ุงููุดุฑูุน

```
๐ฆ Smart IVF Copilot
โโโ ๐ SMART_IVF_STIMULATION_SCHEMA.sql
โ   โโโ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงููุฉ ูุน ุฌููุน ุงูุฌุฏุงูู ูุงูุฏูุงู
โ
โโโ ๐ services/smartStimulationService.ts
โ   โโโ ุฎุฏูุฉ TypeScript ููุชุนุงูู ูุน ุงูุจูุงูุงุช
โ
โโโ ๐ pages/SmartStimulationCopilot.tsx
โ   โโโ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุฆูุณูุฉ
โ
โโโ ๐ SMART_IVF_COPILOT_GUIDE.md
โ   โโโ ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุดุงูู
โ
โโโ ๐ SMART_STIMULATION_INTEGRATION_EXAMPLES.tsx
โ   โโโ ุฃูุซูุฉ ุงูุชูุงูู ูุน ุงูุชุทุจูู
โ
โโโ ๐ README_SMART_IVF_COPILOT.md
    โโโ ูุฐุง ุงูููู
```

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุซุจูุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- ูู Supabase SQL Editorุ ูู ุจุชุดุบูู:
SMART_IVF_STIMULATION_SCHEMA.sql
```

ูุฐุง ุงูุณูุฑูุจุช ุณููุดุฆ:
- โ 6 ุฌุฏุงูู ุฑุฆูุณูุฉ
- โ 2 views ูููุตูู ุงูุณุฑูุน
- โ 2 functions ูุณุงุนุฏุฉ
- โ Triggers ุชููุงุฆูุฉ
- โ RLS policies ูุงููุฉ

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงููููุงุช

ุชุฃูุฏ ูู ูุฌูุฏ:
```
โ services/smartStimulationService.ts
โ pages/SmartStimulationCopilot.tsx
โ src/hooks/usePatients.ts
โ services/dbService.ts
โ lib/supabase.ts
```

### ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ุงููุณุงุฑ

ุงููุณุงุฑ ุชู ุฅุถุงูุชู ุชููุงุฆููุง ูู `App.tsx`:
```typescript
<Route path="/smart-stimulation" element={<SmartStimulationCopilot />} />
```

### ุงูุฎุทูุฉ 4: ุงูุชุดุบูู

```bash
npm run dev
```

ุซู ุงูุชุญ:
```
http://localhost:5173/smart-stimulation
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### 1. `smart_ivf_cycles` - ุฏูุฑุงุช ุงูุชูุดูุท
```sql
- ูุนูููุงุช ุงูุฏูุฑุฉ ุงููุงููุฉ
- ุชุตููู ุงููุฑูุถุฉ (phenotype, POSEIDON)
- ุงูุจุฑูุชูููู ุงููุณุชุฎุฏู
- ุงูุฌุฑุนุงุช ูุชุทูุฑูุง
- ูุณุชูู ุฎุทุฑ OHSS
- ุงูุชูุจุคุงุช ูุงูุชููุนุงุช
```

#### 2. `smart_monitoring_visits` - ุฒูุงุฑุงุช ุงููุชุงุจุนุฉ
```sql
- ุจูุงูุงุช ุงูุฒูุงุฑุฉ (ุชุงุฑูุฎุ ููู)
- ุงูุชุญุงููู ุงููุฑููููุฉ
- ุงูุณููุงุฑ (ุญููุตูุงุชุ ุจุทุงูุฉ)
- ุงูุฌุฑุนุงุช ุงููุนุทุงุฉ
- ุงูุชูุตูุงุช ุงูุฐููุฉ
- ุงูุชูุจููุงุช ูุงูุชุญุฐูุฑุงุช
```

#### 3. `smart_daily_analysis` - ุงูุชุญููู ุงููููู
```sql
- ุชุญููู ุงูุงุณุชุฌุงุจุฉ
- ูุนุฏูุงุช ุงูููู
- ุงูุชูุจุคุงุช
- ุชูููู ุงููุฎุงุทุฑ
```

#### 4. `stimulation_protocols_library` - ููุชุจุฉ ุงูุจุฑูุชููููุงุช
```sql
- ุจุฑูุชููููุงุช ุฌุงูุฒุฉ
- ูุคุดุฑุงุช ุงูุงุณุชุฎุฏุงู
- ุฌุฏุงูู ุงููุชุงุจุนุฉ
- ูุนุฏูุงุช ุงููุฌุงุญ
```

#### 5. `clinical_knowledge_base` - ูุงุนุฏุฉ ุงููุนุฑูุฉ
```sql
- ููุงุนุฏ ุณุฑูุฑูุฉ
- ุดุฑูุท ูุฅุฌุฑุงุกุงุช
- ุฃุฏูุฉ ุงูููุงุฑุณุฉ
```

#### 6. `clinical_decision_log` - ุณุฌู ุงููุฑุงุฑุงุช
```sql
- ุงููุฑุงุฑุงุช ุงููุชุฎุฐุฉ
- ุชูุตูุงุช AI
- ุงููุชุงุฆุฌ
- ุงูุชุญููู ุงูููุงุฑู
```

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงูููููุงุช ุงูุฑุฆูุณูุฉ

#### 1. ุจุทุงูุฉ ูุนูููุงุช ุงููุฑูุถุฉ
```tsx
<PatientCard patient={selectedPatient} />
```
- ุงูุงุณู ูุงูุนูุฑ
- ุฑูู ุงูููู
- ูุนูููุงุช ุงูุงุชุตุงู

#### 2. ุจุทุงูุฉ ููุฎุต ุงูุฏูุฑุฉ
```tsx
<CycleSummaryCard 
  cycle={currentCycle}
  visitCount={visits.length}
  latestVisit={latestVisit}
/>
```
- ุญุงูุฉ ุงูุฏูุฑุฉ
- ุนุฏุฏ ุงูุฒูุงุฑุงุช
- ุขุฎุฑ ุงูุจูุงูุงุช
- ูุณุชูู ุฎุทุฑ OHSS

#### 3. ุจุทุงูุฉ ุงูุชูุตูุงุช ุงูุฐููุฉ
```tsx
<AIRecommendationsCard visit={latestVisit} />
```
- ุชูุตูุงุช ุญุณุจ ุงูุฃููููุฉ
- ุชูุตูุฉ ุงูุฌุฑุนุฉ
- ุงูุฅุฌุฑุงุกุงุช ุงูููุชุฑุญุฉ

#### 4. ุงูุฑุณูู ุงูุจูุงููุฉ
```tsx
<ProgressChart visits={visits} />
```
- ููุญููุงุช ุงูุชุทูุฑ
- ููุงุฑูุฉ ุงูุฒูุงุฑุงุช

#### 5. ูููุฐุฌ ุฅุถุงูุฉ ุฒูุงุฑุฉ
```tsx
<AddVisitForm
  cycleId={currentCycle.id}
  visitCount={visits.length}
  lastVisit={latestVisit}
  onSave={() => loadPatientCycle()}
  onCancel={() => setShowAddVisit(false)}
/>
```
- ุฅุฏุฎุงู ุณูู ูููุธู
- ุญุณุงุจ ุชููุงุฆู ููุฅุญุตุงุฆูุงุช
- ุชูููุฏ ููุฑู ููุชูุตูุงุช

---

## ๐ค ูุญุฑู ุงูุฐูุงุก ุงูุงุตุทูุงุนู

### ููู ูุนููุ

ุนูุฏ ุฅุถุงูุฉ ุฃู ุชุญุฏูุซ ุฒูุงุฑุฉุ ูููู ุงููุธุงู ุจู:

1. **ุชุญููู ุงููุณุชููุงุช ุงููุฑููููุฉ**
```typescript
- E2 < 300 ุจุนุฏ 5 ุฃูุงู โ ุฒูุงุฏุฉ ุงูุฌุฑุนุฉ
- E2 > 3000 โ ุฎุทุฑ OHSSุ ุชูููู ุงูุฌุฑุนุฉ
- LH > 10 โ ุจุฏุก Antagonist ููุฑุงู
```

2. **ุชูููู ููู ุงูุญููุตูุงุช**
```typescript
- Lead follicle โฅ 18mm + 3 mature โ ุฌุงูุฒ ููุชูุฌูุฑ
- Lead follicle < 12mm ุจุนุฏ 6 ุฃูุงู โ ุงุณุชุฌุงุจุฉ ุจุทูุฆุฉ
- Total < 2 ุจุนุฏ 8 ุฃูุงู โ ููุฑ ูู ุงูุฅูุบุงุก
```

3. **ุญุณุงุจ ุงููุฎุงุทุฑ**
```typescript
- E2 + ุนุฏุฏ ุงูุญููุตูุงุช โ OHSS risk score
- ูุนุฏู ุงูููู + ุงูุชุฌุงูุณ โ Quality score
- ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ โ Prediction confidence
```

4. **ุชูููุฏ ุงูุชูุตูุงุช**
```typescript
- ุชูุตูุฉ ุงูุฌุฑุนุฉ ุงูุชุงููุฉ
- ููุนุฏ ุงูุฒูุงุฑุฉ ุงููุงุฏูุฉ
- ุงูุชูุจููุงุช ุงููุงุฒูุฉ
- ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ
```

---

## ๐ฑ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ุฏูุฑุฉ ุฌุฏูุฏุฉ
```typescript
import smartStimulationService from './services/smartStimulationService';

const createCycle = async (patientId: string, doctorId: string) => {
  const cycle = await smartStimulationService.createSmartCycle({
    patient_id: patientId,
    doctor_id: doctorId,
    cycle_number: 1,
    start_date: new Date().toISOString().split('T')[0],
    status: 'baseline',
    ovarian_phenotype: 'normal_responder',
    protocol_type: 'antagonist',
    initial_fsh_dose: 150,
    ohss_risk_level: 'low'
  });
  
  return cycle;
};
```

### ุฅุถุงูุฉ ุฒูุงุฑุฉ ูุชุงุจุนุฉ
```typescript
const addVisit = async (cycleId: string) => {
  const visit = await smartStimulationService.addMonitoringVisit({
    cycle_id: cycleId,
    visit_date: '2024-01-10',
    cycle_day: 8,
    stimulation_day: 1,
    e2_level: 150,
    lh_level: 3.2,
    follicles_right: [10, 12, 14],
    follicles_left: [11, 13],
    endometrium_thickness: 7.5,
    fsh_dose_given: 150,
    doctor_notes: 'ุจุฏุงูุฉ ููุชุงุฒุฉ'
  });
  
  // ุงูุชูุตูุงุช ุณูุชู ุชูููุฏูุง ุชููุงุฆูุงู!
  console.log(visit.ai_recommendations);
};
```

### ุงูุญุตูู ุนูู ุงูุฏูุฑุงุช ุงููุดุทุฉ
```typescript
const getActive = async () => {
  const cycles = await smartStimulationService.getActiveCycles();
  
  cycles.forEach(cycle => {
    console.log(`${cycle.patient_name} - ููู ${cycle.current_stim_day}`);
  });
};
```

---

## ๐ ุงูุฃูุงู

### Row Level Security (RLS)
ุฌููุน ุงูุฌุฏุงูู ูุญููุฉ ุจู RLS:
- ูู ุทุจูุจ ูุฑู ูุฑุถุงู ููุท
- ุงูุฃุทุจุงุก ูู ููุณ ุงูุนูุงุฏุฉ ูููููู ุงููุดุงุฑูุฉ
- Admin ูู ุตูุงุญูุงุช ูุงููุฉ

### Audit Trail
ูู ูุฑุงุฑ ููุณุฌู:
- ูู ุงุชุฎุฐ ุงููุฑุงุฑ
- ูุง ูู ุชูุตูุฉ AI
- ููุงุฐุง ุงุชุจุน ุฃู ูู ูุชุจุน ุงูุชูุตูุฉ
- ูุง ูุงูุช ุงููุชูุฌุฉ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### Views ุงูุฌุงูุฒุฉ

#### 1. `active_smart_cycles_summary`
```sql
SELECT * FROM active_smart_cycles_summary
ORDER BY last_visit_date DESC;
```

#### 2. `visits_needing_attention`
```sql
SELECT * FROM visits_needing_attention
WHERE needs_attention = true;
```

### Functions ุงููููุฏุฉ

#### 1. `get_cycle_summary`
```sql
SELECT * FROM get_cycle_summary('cycle-id-here');
```

#### 2. `calculate_follicle_growth_rate`
```sql
SELECT * FROM calculate_follicle_growth_rate('cycle-id-here');
```

---

## ๐ ุงููุนุงููุฑ ุงูุณุฑูุฑูุฉ ุงููุจููุฉ ุนูููุง

### ูุนุงููุฑ ุงูุฅุจุฑุฉ ุงูุชูุฌูุฑูุฉ
- 1-2 ุญููุตูุงุช โฅ 18mm (IUI)
- 3+ ุญููุตูุงุช โฅ 18mm (IVF)
- E2: 150-250 pg/mL per mature follicle
- P4 < 1.5 ng/mL
- Endometrium โฅ 7mm, trilaminar

### ูุนุงููุฑ OHSS
- **ููุฎูุถ**: E2 < 2500, AFC < 12
- **ูุชูุณุท**: E2: 2500-3500, AFC: 12-15
- **ูุฑุชูุน**: E2: 3500-5000, AFC: 15-20
- **ุญุฑุฌ**: E2 > 5000, AFC > 20

### ุชุนุฏูู ุงูุฌุฑุนุงุช
- **ุฒูุงุฏุฉ**: ุงุณุชุฌุงุจุฉ ุจุทูุฆุฉุ E2 ููุฎูุถ
- **ุชูููู**: ุงุณุชุฌุงุจุฉ ุนุงููุฉุ ุฎุทุฑ OHSS
- **ุฅููุงู**: OHSS ุญุฑุฌุ P4 ูุฑุชูุน

---

## ๐๏ธ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ูุฑูุจุงู
- [ ] ุชุทุจูู ููุจุงูู ูููุฑูุถุงุช
- [ ] ุฅุดุนุงุฑุงุช Push ููุชุฐููุฑ
- [ ] ุชูุงุฑูุฑ PDF ูุงุจูุฉ ููุทุจุงุนุฉ
- [ ] ููุงุฑูุฉ ุงูุฏูุฑุงุช ุงูุณุงุจูุฉ
- [ ] ุชูุงูู ูุน PACS ููุณููุงุฑ

### ููุฏ ุงูุฏุฑุงุณุฉ
- [ ] AI ูุชูุฏู ููุชูุจุค ุจุงููุชุงุฆุฌ
- [ ] Integration ูุน ุฃุฌูุฒุฉ ุงูุณููุงุฑ
- [ ] ูุธุงู ุฑุณุงุฆู SMS
- [ ] WhatsApp Integration
- [ ] Telemedicine Support

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูุชูุตูุงุช
**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. ุงูุจูุงูุงุช ูุงูุตุฉ (ุชุฃูุฏ ูู E2 ูุงูุญููุตูุงุช)
2. ุฎุทุฃ ูู ุงูุญูุธ (ุฑุงุฌุน Console)
3. ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุชุญูู ูู RLS)

**ุงูุญู:**
```typescript
// ุชุฃูุฏ ูู ุงูุญูุธ ุงููุงุฌุญ
const visit = await service.addMonitoringVisit(data);
console.log('Saved visit:', visit);
console.log('Recommendations:', visit.ai_recommendations);
```

### ุงููุดููุฉ: ุฎุทุฃ ูู ุงูุตูุงุญูุงุช
**ุงูุญู:**
```sql
-- ุชุญูู ูู RLS policies
SELECT * FROM pg_policies 
WHERE tablename = 'smart_ivf_cycles';

-- ุชุฃูุฏ ูู ุฃู doctor_id ุตุญูุญ
SELECT * FROM doctors WHERE user_id = auth.uid();
```

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ูุงูุงุณุชูุณุงุฑุงุช:
- ๐ง **ุงูุจุฑูุฏ**: support@nileivf.com
- ๐ฌ **ุงูุฏุฑุฏุดุฉ**: ูุชุงุญุฉ ูู ุงููุธุงู
- ๐ **ุงูุชูุซูู**: ุฑุงุฌุน ุงููููุงุช ุงููุฑููุฉ
- ๐ฅ **ุงูููุฏูููุงุช**: ูุฑูุจุงู

---

## ๐ ุดูุฑ ูุชูุฏูุฑ

ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ุจุนูุงูุฉ ูุงุฆูุฉ ูุฎุฏูุฉ:
- **ุงูุฃุทุจุงุก**: ูุชุณููู ูุชุงุจุนุฉ ุงูุญุงูุงุช
- **ุงููุฑุถู**: ูุชุญุณูู ุงููุชุงุฆุฌ
- **ุงูุนูุงุฏุงุช**: ูุฑูุน ูุณุชูู ุงูุฎุฏูุฉ

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุธุงู ุฌุฒุก ูู ููุธููุฉ **Nile IVF Center Management System**

**ุญููู ุงูููููุฉ ูุญููุธุฉ ยฉ 2024**

---

## ๐ ุงุจุฏุฃ ุงูุขู!

ุงููุธุงู ุฌุงูุฒ ุชูุงูุงู ููุงุณุชุฎุฏุงู:

1. โ ูุงุนุฏุฉ ุงูุจูุงูุงุช - ุชู
2. โ ุงูุฎุฏูุงุช - ุฌุงูุฒุฉ
3. โ ุงููุงุฌูุฉ - ููุชููุฉ
4. โ ุงูุชูุตูุงุช ุงูุฐููุฉ - ูุดุทุฉ
5. โ ุงูุชูุงูู - ุชู

**ุงูุชุญ `/smart-stimulation` ูุงุจุฏุฃ ุฑุญูุฉ ุฐููุฉ! ๐**

</div>

---

## English Summary

**Smart IVF Copilot** is an intelligent system for monitoring the stimulation phase in IVF cycles, featuring:

- ๐ Comprehensive data tracking
- ๐ค AI-powered recommendations
- ๐ Automatic alerts
- ๐ Interactive charts
- ๐ฏ OHSS risk assessment
- ๐ก Protocol optimization

**Quick Start:**
1. Run `SMART_IVF_STIMULATION_SCHEMA.sql` in Supabase
2. Navigate to `/smart-stimulation`
3. Select patient and start tracking

**Built with:** React, TypeScript, Supabase, Recharts, Tailwind CSS

---

**Made with โค๏ธ for better IVF outcomes**
