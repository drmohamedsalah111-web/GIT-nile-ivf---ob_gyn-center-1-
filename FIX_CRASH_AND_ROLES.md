# كيفية إعادة تشغيل الخادم (Fix App Crash)

يبدو أن هناك مشكلة في "الكاش" (Cache) الخاص بالمتصفح أو الخادم، مما يسبب خطأ `Toaster is not defined`.

يرجى اتباع الخطوات التالية بدقة:

1.  **إيقاف الخادم**:
    *   اذهب إلى التيرمينال (Terminal) حيث يعمل `npm run dev`.
    *   اضغط `Ctrl + C` لإيقافه.

2.  **تنظيف الكاش وتشغيل الخادم**:
    *   شغل الأمر التالي:
        ```bash
        rm -rf node_modules/.vite
        npm run dev
        ```
    *   (إذا كنت تستخدم Windows Powershell ولا يعمل الأمر `rm`, فقط شغل `npm run dev -- --force`).

3.  **تحديث المتصفح**:
    *   افتح الموقع في المتصفح.
    *   اضغط `Ctrl + Shift + R` لتحديث الصفحة مع مسح الكاش.

---

# حل مشكلة الصلاحيات (Fix Permissions)

البيانات التي أرسلتها توضح المشكلة 100%:
الحساب `reception@clinic.com` مسجل كـ `doctor` وليس لديه `secretary_doctor_id`.

**الحل:**
يجب تشغيل الملف `FIX_DATA_ROLES.sql` الذي أنشأته لك.

1.  افتح **Supabase SQL Editor**.
2.  انسخ محتوى `FIX_DATA_ROLES.sql`.
3.  اضغط **Run**.

هذا سيربط حساب الاستقبال بالطبيب ويحوله إلى سكرتيرة.
